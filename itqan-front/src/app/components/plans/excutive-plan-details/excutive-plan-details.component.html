<div class="grid  gap-4 gap-y-2 z-50 text-sm grid-cols-1 lg:grid-cols-3 rounded-lg bg-white px-4 py-3 m-4">
    <div class="col-span-3 flex justify-between  border-b-2 border-gray-300">
        <div class="col-span-3  p-2 md:col-span-5 h-8 mt-1 px-4 bg-gray-60 font-bold mb-2 flex">
            <svg class="w-5 h-5 bi bi-circle-fill" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                fill="#b3ff66">
                <circle cx="8" cy="8" r="8" />
            </svg>
            الهدف الاستراتيجي :{{item?.sub_goal?.name}}
        </div>
        <div>
            <button class="border  border-[#014daa] rounded-lg px-3  py-1 mx-1">السابق</button>
            <button [routerLink]="['/home/edit-excutive-plan',item?.id]" routerLinkActive="router-link-active"
                class=" bg-[#014daa] rounded-lg px-3 text-white py-1 mx-1 ">تعديل </button>
        </div>
    </div>
    <div class="lg:col-span-3">
        <div class="grid gap-x-16 gap-y-2 text-sm grid-cols-1 md:grid-cols-6">
            <div class="md:col-span-3 col-span-1  ">
                <!-- <div class="grid md:grid-cols-12 grid-cols-1  items-center"> -->
                <label class="md:col-span-1 " for="full_name"> الهدف العام </label>
                @if(item?.phased_plan){
                <div class="md:col-span-11 h-8 border-gray-300 border mt-2  pt-1 px-2 rounded-md  bg-blue-200">
                    {{item?.phased_plan?.goal?.name}}</div>
                }
                <!-- </div> -->
            </div>
            <div class="md:col-span-3 col-span-1 gap-x-6 ">
                <div class="grid md:grid-cols-6 grid-cols-1  items-center">
                    <div class="col-span-3 mx-2">
                        <label class="md:col-span-1 " for="full_name"> تاريخ البداية </label>
                        <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1 pt-1  px-4 ">
                            {{item?.start_date | date}}</div>
                    </div>
                    <div class="col-span-3 ms-2">
                        <label class="md:col-span-1 " for="full_name"> تاريخ النهاية </label>
                        <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1  pt-1 px-4 ">
                            {{item?.end_date |date}}</div>
                    </div>
                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">

                <label class="md:col-span-1 " for="full_name">اسم المهمة </label>
                <div class="md:col-span-5 h-8 border-gray-300 border mt-1  px-4 py-1 rounded-md">
                    {{item.name}}
                </div>

            </div>
            <div class="md:col-span-3 col-span-1 ">
                <div class="grid md:grid-cols-6 grid-cols-1 items-center">
                    <div class="col-span-3 me-2">
                        <label class="md:col-span-1 " for="full_name">المستفيدين </label>
                        <div class="md:col-span-5 h-8 border-gray-300 border mt-1 rounded-md px-4 py-1">
                            {{item?.type}}
                        </div>
                    </div>
                    <div class="col-span-3 flex items-center mt-4">
                        <label class="checkbox">
                            <input type="checkbox" [checked]="item?.completion_requires_beneficiaries" />
                            <svg viewBox="0 0 21 18">
                                <symbol id="tick-path" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"
                                        fill="none" stroke-width="2.25" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </symbol>
                                <defs>
                                    <mask id="tick">
                                        <use class="tick mask" href="#tick-path" />
                                    </mask>
                                </defs>
                                <use class="tick" href="#tick-path" stroke="currentColor" />
                                <path fill="white" mask="url(#tick)"
                                    d="M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z" />
                            </svg>
                            <svg class="lines" viewBox="0 0 11 11">
                                <path d="M5.88086 5.89441L9.53504 4.26746" />
                                <path d="M5.5274 8.78838L9.45391 9.55161" />
                                <path d="M3.49371 4.22065L5.55387 0.79198" />
                            </svg>
                        </label>
                        <span>اكتمال المهمة مرتبط بالمستفيدين</span>
                    </div>
                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">

                <label class="md:col-span-1 " for="full_name">طبيعة النشاط </label>
                <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1  px-4 py-1">
                    {{item.activity?.name}}
                </div>

            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> المؤشر
                </label>
                <div class="md:col-span-5  border-gray-300 border rounded-md mt-1  px-2 py-2">
                    @for(indicator of item?.indicators ;track indicator){
                    <span class="bg-blue-100 border rounded-md mx-1 px-1">{{indicator.indicator.title}}</span>
                    }

                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> الاثر التنموي المتوقع
                </label>
                <div class="md:col-span-5  border-gray-300 border rounded-md mt-1  px-2 py-2">
                    @for(expected_impact of item?.expected_impacts ;track expected_impact){
                    <span
                        class="bg-blue-100 border rounded-md mx-1 px-1">{{expected_impact.expected_impact.title}}</span>
                    }

                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> المتطلبات</label>
                <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1  px-4 py-1">
                    {{item.Requirements}}
                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> مكان التنفيذ
                </label>
                <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1  px-4 py-1">
                    {{item?.implementation_place}}
                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> التكلفة
                    التقديرية</label>
                <div class="md:col-span-5 h-8 border-gray-300 border mt-1 rounded-md px-4 py-1">
                    {{item?.cost}}
                </div>
            </div>
            <div class="md:col-span-3 col-span-1  ">
                <label class="md:col-span-1 " for="full_name"> وصف المشروع</label>
                <div class="md:col-span-5 h-8 border-gray-300 border rounded-md mt-1  px-4 py-1">
                    {{item?.description}}
                </div>
            </div>
            <div class="col-span-6">
                <div class=" overflow-auto lg:overflow-hidden">
                    <h1 class="font-bold p-3 flex items-center text-sm">
                        <svg fill="#014daa" class="size-8" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <path d="M 6 6 L 6 26 L 26 26 L 26 6 L 6 6 z" />
                        </svg>
                        المشاركين في التنفيذ
                    </h1>
                    <table class="table-auto border-collapse border border-slate-400 w-full bg-white text-sm">
                        <thead class="bg-blue-200 text-black">
                            <tr class="p-1 whitespace-nowrap">

                                <th class="border border-slate-300 p-1  flex items-center ...">
                                    <span>الادارة المسؤلة</span>

                                </th>
                                <th class="border border-slate-300 p-1 px-4 text-xs ..."> الموظف المسؤل
                                </th>
                                <th class="border border-slate-300 p-1  px-4 ..."> من تاريخ</th>
                                <th class="border border-slate-300 p-1  px-4   ..."> حتي تاريخ</th>
                                <th class="border border-slate-300 py-1 flex items-center ">
                                    <span class="px-1"> اسم المؤشر</span>

                                </th>
                                <th class="border border-slate-300 p-1 ...">عدد\قيمة </th>
                                <th class="border border-slate-300 py-1 flex items-center ">
                                    <div class="flex items-center">
                                        <span class="px-1"> وسيلة التقييم </span>
                                        <svg fill="green" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                            class="w-4 h-4" xmlns:xlink="http://www.w3.org/1999/xlink"
                                            viewBox="0 0 45.402 45.402" xml:space="preserve">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <g>
                                                    <path
                                                        d="M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z">
                                                    </path>
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </th>
                                <th class="border border-slate-300 ">
                                    <div class="flex items-center">
                                        <span class="px-1"> الاجراء</span>

                                    </div>
                                </th>
                                <th class="border border-slate-300 p-1 px-5 ">التاريخ </th>
                                <th class="border border-slate-300 p-1 px-3 ">وصف الاجراء </th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (item) {
                            @for (mission of item.missions; track item; let j = $index)
                            {
                            <tr class="p-1">

                                <td class=" border border-slate-300 ">
                                    {{mission.administration?.name}}
                                </td>
                                <td class="  border border-slate-300 ...">
                                    {{mission.employee?.name}}
                                </td>
                                <td class="  border border-slate-300  ...">
                                    {{mission?.start_date | date}}
                                </td>
                                <td class="  border border-slate-300  ...">
                                    {{mission?.end_date | date}}
                                </td>
                                <td class="  border border-slate-300 ...">
                                    {{mission?.name}}
                                </td>
                                <td class=" px-2 border border-slate-300 ...">
                                    {{mission?.number_value}}
                                </td>
                                <td class=" px-2 border border-slate-300 ...">
                                    {{mission?.evaluation_method}}
                                </td>
                                <td class=" px-2 border border-slate-300 ...">
                                    {{mission.procedure | translate}}
                                </td>
                                <td class=" border border-slate-300 ...">
                                    {{mission?.procedure_date | date}}
                                </td>
                                <td class=" px-2 border border-slate-300 ..."></td>
                            </tr>
                            }
                            }
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="col-span-6 ">
                <ul class="flex flex-wrap text-sm text-gray-900 dark:text-white pt-5">
                    <li class="flex items-center">
                        <label class="checkbox">
                            <input type="checkbox" />
                            <svg viewBox="0 0 21 18">
                                <symbol id="tick-path" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"
                                        fill="none" stroke-width="2.25" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </symbol>
                                <defs>
                                    <mask id="tick">
                                        <use class="tick mask" href="#tick-path" />
                                    </mask>
                                </defs>
                                <use class="tick" href="#tick-path" stroke="currentColor" />
                                <path fill="white" mask="url(#tick)"
                                    d="M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z" />
                            </svg>
                            <svg class="lines" viewBox="0 0 11 11">
                                <path d="M5.88086 5.89441L9.53504 4.26746" />
                                <path d="M5.5274 8.78838L9.45391 9.55161" />
                                <path d="M3.49371 4.22065L5.55387 0.79198" />
                            </svg>
                        </label>
                        <span class="mx-4  md:me-6 ">اكتمال المهمه يتطلب استطالع راي المستفيدين الكترونيا</span>
                    </li>
                    <li class="flex items-center">
                        <label class="checkbox">
                            <input type="checkbox" [checked]="item?.repetition_on_faild" />
                            <svg viewBox="0 0 21 18">
                                <symbol id="tick-path" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"
                                        fill="none" stroke-width="2.25" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </symbol>
                                <defs>
                                    <mask id="tick">
                                        <use class="tick mask" href="#tick-path" />
                                    </mask>
                                </defs>
                                <use class="tick" href="#tick-path" stroke="currentColor" />
                                <path fill="white" mask="url(#tick)"
                                    d="M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z" />
                            </svg>
                            <svg class="lines" viewBox="0 0 11 11">
                                <path d="M5.88086 5.89441L9.53504 4.26746" />
                                <path d="M5.5274 8.78838L9.45391 9.55161" />
                                <path d="M3.49371 4.22065L5.55387 0.79198" />
                            </svg>
                        </label>
                        <span class="mx-4  md:me-6 ">تكرار المهمه حال فشلها</span>
                    </li>
                    <li class="flex items-center">
                        <label class="checkbox">
                            <input type="checkbox" [checked]="item?.repeat_type!='none'" />
                            <svg viewBox="0 0 21 18">
                                <symbol id="tick-path" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.22003 7.26C5.72003 7.76 7.57 9.7 8.67 11.45C12.2 6.05 15.65 3.5 19.19 1.69"
                                        fill="none" stroke-width="2.25" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </symbol>
                                <defs>
                                    <mask id="tick">
                                        <use class="tick mask" href="#tick-path" />
                                    </mask>
                                </defs>
                                <use class="tick" href="#tick-path" stroke="currentColor" />
                                <path fill="white" mask="url(#tick)"
                                    d="M18 9C18 10.4464 17.9036 11.8929 17.7589 13.1464C17.5179 15.6054 15.6054 17.5179 13.1625 17.7589C11.8929 17.9036 10.4464 18 9 18C7.55357 18 6.10714 17.9036 4.85357 17.7589C2.39464 17.5179 0.498214 15.6054 0.241071 13.1464C0.0964286 11.8929 0 10.4464 0 9C0 7.55357 0.0964286 6.10714 0.241071 4.8375C0.498214 2.39464 2.39464 0.482143 4.85357 0.241071C6.10714 0.0964286 7.55357 0 9 0C10.4464 0 11.8929 0.0964286 13.1625 0.241071C15.6054 0.482143 17.5179 2.39464 17.7589 4.8375C17.9036 6.10714 18 7.55357 18 9Z" />
                            </svg>
                            <svg class="lines" viewBox="0 0 11 11">
                                <path d="M5.88086 5.89441L9.53504 4.26746" />
                                <path d="M5.5274 8.78838L9.45391 9.55161" />
                                <path d="M3.49371 4.22065L5.55387 0.79198" />
                            </svg>
                        </label>
                        <span class="mx-4  md:me-6 ">تكرار المهمه خلال فترة محددة</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class=" mt-3 bg-white rounded-lg m-4 p-5">
    <h1 class="font-bold p-3 flex items-center text-sm">
        <svg fill="#014daa" class="size-8" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <path d="M 6 6 L 6 26 L 26 26 L 26 6 L 6 6 z" />
        </svg>
       المستفيدون
    </h1>
    <div class="card" dir="rtl">
        @if ((item.beneficiaries ?? []).length>0) {
        <p-table [value]="item.beneficiaries ?? []" [paginator]="true" [rows]="10"
            [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>اسم الحالة </th>
                    <th>رقم الهوية </th>
                    <th> تاريخ التسجيل</th>
                    <th>العمر</th>
                    <th>الجنس</th>
                    <th> رقم الملف</th>
                    <th>الجوال</th>
                    <th>المرض</th>
                    <th>الحالة الاجتماعية</th>

                    <!-- <th>تم تقديم الخدمة</th> -->
                    <th>ملاحظة</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-beneficiary>
                <tr>
                    <td>{{beneficiary.beneficiary?.name }}</td>
                    <td>{{ beneficiary.beneficiary?.identity?.value }}</td>
                    <td>{{ beneficiary.beneficiary?.createdAt | date }}</td>
                    <td>{{beneficiary.beneficiary?.age}}</td>
                    <td>{{beneficiary.beneficiary?.gender}}</td>
                    <td>{{beneficiary.beneficiary?.file_no}}</td>
                    <td>{{beneficiary.beneficiary?.contact_numbers.number}}</td>
                    <td>{{beneficiary.beneficiary?.illnesse?.name}}</td>

                    <td>{{beneficiary.beneficiary?.marital_status}}</td>
                    <!-- <td>
                        <ul>
                            @for (service of
                            beneficiary.beneficiary?.beneficiary_sevices; track
                            $index) {
                            <li>{{service.service?.name}}</li>
                            }
                        </ul>
                    </td> -->
                    <!-- <td>
                                                <div class="flex items-center mb-4">
                                                    <input id="default-checkbox" type="checkbox" name="service_done"
                                                        [(ngModel)]="beneficiary.service_done"
                                                        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                                    {{beneficiary.service_done}}
                                                </div>
                                            </td> -->
                    <td>{{beneficiary.note}}</td>
                </tr>
            </ng-template>
        </p-table>
        }@else if ((item.employeesbeneficiary ?? []).length>0) {
        <p-table [value]="item.employeesbeneficiary ?? []" [paginator]="true" [rows]="5"
            [tableStyle]="{ 'min-width': '70rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>الاسم </th>
                    <th> القسم</th>
                    <th> الجوال</th>
                    <th>العنوان </th>

                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-employee>
                <tr>
                    <td>{{ employee.employee?.name }}</td>
                    <td>{{employee.employee?.department?.name}}</td>
                    <td>{{ employee.employee?.mobile }}</td>
                    <td>{{ employee.employee?.address }}</td>
                </tr>
            </ng-template>
        </p-table>
        }@else if((item.directors_board?? []).length>0){
            
            <p-table [value]="item.directors_board ?? []" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '70rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="border border-slate-300 p-1 ...">اسم العضو</th>
                        <th class="border border-slate-300 p-1 ...">رقم التواصل</th>
                        <th class="border border-slate-300 p-1 ...">رقم الهوية</th>
                        <th class="border border-slate-300 p-1 ...">نوع العضوية </th>
                        <th class="border border-slate-300 p-1  ...">العنوان الوطني </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                    <tr>
                        <td class=" p-2 border border-slate-300 ...">{{item?.director_board?.name}}</td>
                        <td class=" p-2 border border-slate-300 ...">{{item?.director_board?.mobile}}</td>
                        <td class=" p-2 border border-slate-300 ...">{{item?.director_board?.ID_number}}</td>
                        <td class=" p-2 border border-slate-300 ...">{{item?.director_board?.membership_type}}</td>
                        <td class=" p-2 border border-slate-300 ...">{{item?.director_board?.address}}</td>
                
                    </tr>
                </ng-template>
            </p-table>
        }
    </div>
</div>